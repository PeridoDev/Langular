{"version":3,"sources":["app.js","guestbook/guestbook.controller.js","home/home.js","login/login.controller.js","10_common/models/Guestbook.js","10_common/models/Message.js"],"names":[],"mappings":"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","file":"all.js","sourcesContent":["(function() {\n\t\n    angular.module('langular', [\n            'ui.router',\n            'ngResource',\n\t\t\t'ngCookies'\n        ])\n        .config([\n            '$stateProvider',\n            '$urlRouterProvider',\n            function(\n                $stateProvider,\n                $urlRouterProvider\n            ) {\n\t\t\t\t\n\t\t\t\t$urlRouterProvider.otherwise('/home');\n\t\t\t\t\n                $stateProvider.state('home', {\n                        url: \"/home\",\n                        templateUrl: 'template/home/home.html',\n                        controller: 'HomeController',\n                        controllerAs: 'self'\n                    })\n                    .state('guestbook', {\n                        url: \"/guestbook\",\n                        templateUrl: 'template/guestbook/guestbook.html',\n                        controller: 'GuestbookController',\n                        controllerAs: 'self',\n                    })\n                    .state('login', {\n                        url: \"/login\",\n                        templateUrl: 'template/login/login.html',\n                        controller: 'LoginController',\n                        controllerAs: 'self',\n                    });\n            }\n        ]);\n}()); ","/*\n *\tGuestbookController\n */\n\n(function() {\n\n    angular.module('langular')\n        .controller('GuestbookController', GuestbookController);\n\n    GuestbookController.$inject = ['Guestbook'];\n\n\n    function GuestbookController(Guestbook) {\n\n        var self = this;\n\n        self.guestbook = new Guestbook();\n\n        self.guestbook.load();\n\n    }\n\n}());","/*\n *\tHomeController\n */\n\n(function() {\n\n    angular.module('langular')\n        .controller('HomeController', HomeController);\n\n    function HomeController() {\n\n\n    }\n\n}());","// queryParams = $window.location.href.match(/\\?name=(.*)/)\n// $scope.name = queryParams == null? \"...\": queryParams[1];\n// $scope.location = $window.location.href;\n\n/*\n *\tLoginController\n */\n\n(function() {\n\n    angular.module('langular')\n        .controller('LoginController', LoginController);\n\n    LoginController.$inject = ['$timeout', '$scope', '$cookies'];\n\n\n    function LoginController($timeout, $scope, $cookies) {\n    \t\n\t\tvar self = this;\n\t\tself.token = $cookies.get('XSRF-TOKEN');\n\n    }\n\n}());","angular.module('langular')\n    .factory('Guestbook', Guestbook);\n\nGuestbook.$inject = ['Message', '$timeout'];\n\nfunction Guestbook(Message, $timeout) {\n\n    return class Guestbook {\n\n        constructor() {\n\n            this.longDelayTime = 1000;\n            this.isLocked      = false;\n            this.isLongDelay   = undefined;\n\t\t\tthis.hasFailed\t   = false; // TODO: implementera on failed\n            this.messages      = [];\n            this.input         = \"\";\n        }\n\n        lock() {\n\n            var self = this;\n            self.isLocked = true;\n            $timeout(function() {\n\n                if (self.isLocked) {\n\n                    self.isLongDelay = true;\n                }\n\n            }, self.longDelayTime);\n        }\n\n        unlock() {\n\n            this.isLocked = false;\n            delete this.isLongDelay;\n        }\n\n        load() {\n            var self = this;\n            self.lock();\n            Message.index({\n                onSuccess: function(value) {\n\n                    self.messages = value;\n                    self.unlock();\n                }\n            });\n        }\n\n        postMessage() {\n            self = this;\n            self.lock();\n\n            var message = new Message({\n                text: self.input\n            });\n\n            message.store({\n                onSuccess: function() {\n\n                    self.input = \"\";\n\n                    self.load();\n                }\n            });\n\n        }\n\n        deleteMessage(message) {\n\n            var self = this;\n            self.lock();\n\n            message.delete({\n                onSuccess: function() {\n\n                    self.load();\n                }\n            });\n        }\n\n    };\n\n}","angular.module('langular')\n    .factory('Message', Message);\n\nMessage.$inject = ['$resource'];\n\nfunction Message($resource) {\n\n    return class Message {\n\n        constructor(args) {\n\n            if (typeof args === 'object') {\n                this.id = args.id;\n                this.text = args.text;\n                this.created_at = args.created_at;\n                this.updated_at = args.updated_at;\n            }\n\n        }\n\n\n        store(args) {\n\n            args = typeof args === 'object' ? args : {};\n            var onSuccess =\n                typeof args.onSuccess === 'function' ?\n                args.onSuccess :\n                function(value) {};\n            var onFail =\n                typeof args.onFail === 'function' ?\n                args.onFail :\n                function(value) {};\n\n            Message.resource()\n                .save({\n                    text: this.text\n                })\n                .$promise.then(\n                    function(value) {\n                        onSuccess();\n                    },\n                    function(error) {\n\n                        onFail(error);\n                    });\n        }\n\n        delete(args) {\n\n            args = typeof args === 'object' ? args : {};\n            var onSuccess =\n                typeof args.onSuccess === 'function' ?\n                args.onSuccess :\n                function(value) {};\n            var onFail =\n                typeof args.onFail === 'function' ?\n                args.onFail :\n                function(value) {};\n\n            Message.resource()\n                .delete({\n                    id: this.id\n                })\n                .$promise.then(\n                    function(value) {\n                        onSuccess();\n                    },\n                    function(error) {\n\n                        onFail(error);\n                    });\n\n        }\n\n        static makeCollection(data) {\n\n            var collection = [];\n            for (var item of data) {\n\n                collection.push(new Message(item));\n            }\n            return collection;\n        }\n\n\n        static resource() {\n\n            return $resource('api/message/:id');\n        }\n\n\n        static index(args) {\n\n            args = typeof args === 'object' ? args : {};\n            var onSuccess =\n                typeof args.onSuccess === 'function' ?\n                args.onSuccess :\n                function(value) {};\n            var onFail =\n                typeof args.onFail === 'function' ?\n                args.onFail :\n                function(value) {};\n\n            Message.resource()\n                .query()\n                .$promise\n                .then(function(value) {\n\n                        var collection = Message.makeCollection(value);\n                        onSuccess(collection);\n                    },\n                    function(error) {\n\n                        onFail(error);\n                    });\n        }\n\n    };\n}"],"sourceRoot":"/source/"}